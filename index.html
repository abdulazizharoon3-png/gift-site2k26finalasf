<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>New Year Surprise üéÅ</title>

<style>
html, body {
margin:0; padding:0; overflow:hidden; font-family:Arial,sans-serif;
height:100%; width:100%; background:#0c0c0c; color:white; text-align:center; position:relative;
}
.screen {
position:absolute; top:0; left:0; width:100%; height:100%; display:flex;
flex-direction:column; justify-content:center; align-items:center;
opacity:0; pointer-events:none; transition: all 0.8s ease; transform:scale(0.95);
}
.active {opacity:1; pointer-events:auto; transform:scale(1);}
button {
padding:15px 30px; font-size:20px; border:none; border-radius:12px;
margin-top:20px; cursor:pointer;
background: linear-gradient(45deg,#ff3cac,#784ba0,#2b86c5); color:white;
position:relative;
}
input {
padding:12px; font-size:18px; border-radius:10px;
border:2px solid white; text-align:center; margin-top:20px;
}
#giftIcon {font-size:60px; cursor:pointer; animation:bounce 1s infinite;}
@keyframes bounce {0%,100%{transform:translateY(0);}50%{transform:translateY(-20px);}}
canvas {position:absolute; top:0; left:0; pointer-events:none;}
h2 {padding:0 20px; line-height:1.5em;}
.flyingEmoji {position:absolute; font-size:50px;}
</style>
</head>

<body>
<canvas id="canvas"></canvas>

<!-- Start -->
<div id="start" class="screen active">
<h1>üéâ Ready for a Surprise?</h1>
<button onclick="goName()">Start</button>
</div>

<!-- Name -->
<div id="name" class="screen">
<h2>Enter Your Name üí´</h2>
<input id="username" placeholder="Your Name">
<button onclick="checkName()">Next</button>
</div>

<!-- Verification -->
<div id="verify" class="screen">
<h2>Verification pls ü•∫üíñ</h2>
<input id="verifyInput" placeholder="say it üëÄ">
<button onclick="checkVerification()">Verify</button>
</div>

<div id="aribaPages" class="screen"></div>

<div id="giftScreen" class="screen">
<div id="giftIcon">üéÅ</div>
</div>

<div id="genericFinal" class="screen">
<h2>Happy New Year üéÜ‚ú®</h2>
</div>

<script>
// canvas setup SAME
let canvas=document.getElementById('canvas');
let ctx=canvas.getContext('2d');
canvas.width=innerWidth; canvas.height=innerHeight;

// hearts
let hearts=[];
for(let i=0;i<20;i++){
hearts.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,size:Math.random()*15+5,speed:Math.random()*0.5+0.2,opacity:Math.random()*0.4+0.3});
}

// confetti
let confetti=[];
function Confetti(){
this.x=Math.random()*canvas.width;
this.y=Math.random()*canvas.height-50;
this.vx=(Math.random()-0.5)*2.5;
this.vy=Math.random()*2+1;
this.color=`hsl(${Math.random()*360},100%,50%)`;
this.draw=function(){
ctx.fillStyle=this.color;
ctx.fillRect(this.x,this.y,5,10);
this.x+=this.vx; this.y+=this.vy;
if(this.y>canvas.height)this.y=-10;
}
}

// fireworks
let fireworks=[];
function Firework(x,y,color){
this.particles=[];
for(let i=0;i<30;i++){
this.particles.push({x,y,vx:(Math.random()-0.5)*5,vy:(Math.random()-0.5)*5,alpha:1,color});
}
this.draw=function(){
this.particles.forEach(p=>{
ctx.fillStyle=`rgba(${p.color.r},${p.color.g},${p.color.b},${p.alpha})`;
ctx.beginPath(); ctx.arc(p.x,p.y,3,0,Math.PI*2); ctx.fill();
p.x+=p.vx; p.y+=p.vy; p.alpha-=0.03;
});
this.particles=this.particles.filter(p=>p.alpha>0);
}
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
hearts.forEach(h=>{
ctx.fillStyle=`rgba(255,0,150,${h.opacity})`;
ctx.beginPath(); ctx.arc(h.x,h.y,h.size,0,Math.PI*2); ctx.fill();
h.y-=h.speed; if(h.y<0)h.y=canvas.height;
});
confetti.forEach(c=>c.draw());
fireworks.forEach(f=>f.draw());
fireworks=fireworks.filter(f=>f.particles.length>0);
requestAnimationFrame(animate);
}
animate();

function burstConfetti(){for(let i=0;i<20;i++) confetti.push(new Confetti());}
function burstFireworks(){
for(let i=0;i<3;i++){
fireworks.push(new Firework(Math.random()*canvas.width,Math.random()*canvas.height/2,{
r:Math.random()*255,g:Math.random()*255,b:Math.random()*255
}));
}
}

function show(id){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById(id).classList.add('active');
}

function goName(){show('name');}

// NAME CHECK
let enteredName="";
function checkName(){
enteredName=document.getElementById('username').value.toLowerCase().trim();
if(enteredName==="ariba"){show('verify');}
else if(enteredName==="habiba"){startHabibaFlow();}
else{show('giftScreen');}
}

// VERIFICATION
function checkVerification(){
let v=document.getElementById('verifyInput').value.trim().toLowerCase();
if(v==="aweee mera bacha"){startAribaFlow();}
else{
document.body.innerHTML="<h1 style='color:white;text-align:center;margin-top:40vh;'>u aint my didi, gtfo üñï</h1>";
}
}

// ARIBA FLOW (UNCHANGED TEXT)
const aribaMessages=[
"Didi? üíñ","Is it really u? ü•π","I really love you ‚ù§Ô∏è‚Äçü©π","You‚Äôre the best ü•∞",
"You kinda understood me like no one ever did üòå",
"I felt comfortable around you like I never did around anyone else üíñ",
"The Head Scratch ‚ù§Ô∏è‚Äçü©π","The Tea Spill üíÖ",
"Aapka vo waala message really made me throw my phone ü•π",
"‚ù§Ô∏è‚Äçü©π Didi‚Ä¶ you are unlike anyone I‚Äôve ever met.",
"Every moment with you feels safe and comforting.",
"You are my favorite bari behn üíñ",
"Happy New Year Didi üéâüéÜ"
];
let currentAriba=0;

function startAribaFlow(){
currentAriba=0;
show('aribaPages');
showAribaMessage();
}

function showAribaMessage(){
let c=document.getElementById('aribaPages');
c.innerHTML="";
let h=document.createElement('h2');
h.innerHTML=aribaMessages[currentAriba];
let b=document.createElement('button');
b.innerText="Next";
b.onclick=()=>{
currentAriba++;
if(currentAriba<aribaMessages.length){
showAribaMessage(); burstConfetti(); burstFireworks();
}
};
c.appendChild(h); c.appendChild(b);
burstConfetti();
}

// HABIBA FLOW
let habibaStep=0;
function startHabibaFlow(){
habibaStep=0;
show('aribaPages');
showHabiba();
}

function showHabiba(){
let c=document.getElementById('aribaPages');
c.innerHTML="";
let h=document.createElement('h2');
let b=document.createElement('button');
b.innerText="Next";

if(habibaStep===4){
h.innerHTML="alr if u want it so bad tell ayyanu babu to wish it to u ‚Äî me nai kar raha üòí";
}
else if(habibaStep===5){
let gift=document.createElement("div");
gift.innerHTML="üéÅ"; gift.style.fontSize="70px";
gift.onclick=()=>{
["ü´µ","ü§°"].forEach((e,i)=>{
let em=document.createElement("div");
em.className="flyingEmoji"; em.innerText=e;
em.style.left=50+i*80+"%"; em.style.top="40%";
document.body.appendChild(em);
});
};
c.appendChild(gift);
return;
}
else{
h.innerHTML="üôÇ";
}

b.onclick=()=>{
habibaStep++;
if(habibaStep===1)b.style.position="absolute",b.style.top="10px",b.style.left="10px";
if(habibaStep===2)b.style.bottom="10px",b.style.right="10px",b.style.top="",b.style.left="";
if(habibaStep===3)b.style.top="10px",b.style.right="10px",b.style.bottom="";
showHabiba();
};

c.appendChild(h); c.appendChild(b);
}
</script>
</body>
</html>
